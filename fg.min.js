function formfillergpthelper(){let e=!1,t=[],r=[],o,n,a,i,l,s;function d(){n&&"inactive"!==n.state&&(n.stop(),e=!1)}function c(e){console.log(e)}function p(p){var m;i=p.target.form,e?(d(),p.target.classList.remove("recording")):(m=p,c("launchPopup"),m.preventDefault(),function e(){if(document.querySelector(".formgpt-form-genie-popup-container")||document.querySelector(".formgpt-form-genie-popup-container"))return;let l=document.createElement("div");l.classList.add("formgpt-form-genie-popup-container");let p=document.createElement("div");p.classList.add("formgpt-form-genie-popup-content");let m=document.createElement("h3");m.textContent="Speak out the form";let f=document.createElement("div");f.classList.add("formgpt-form-genie-waveform");let g=document.createElement("p");g.classList.add("formgpt-form-genie-timer");let u=document.createElement("button");u.classList.add("formgpt-form-genie-cancel"),u.innerHTML="✗",u.addEventListener("click",()=>{d(),clearInterval(s),document.body.removeChild(l)});let h=document.createElement("button");h.classList.add("formgpt-form-genie-submit"),h.innerHTML="✔";let $=document.createElement("div");$.classList.add("formgpt-form-genie-buttons"),$.appendChild(u),$.appendChild(h),h.addEventListener("click",e=>{a.checked?(d(),clearInterval(s),function e(t,a,l){n.stop(),clearInterval(s),c(["sendingAudio",t,a,o,r]);let d=new Blob(r,{type:"audio/webm"}),p=function e(t){let r=new FormData(t);return[...r.entries()]}(t),m=new FormData;m.append("audio",d),m.append("formdata",p),m.append("formHTML",i),m.append("loc",window.location.href),m.append("path",window.location.pathname),m.append("host",window.location.hostname),m.append("hash",window.location.hash),fetch("https://formfillergpt.com",{method:"POST",body:m}).then(e=>e.json()).then(e=>{e.forEach(e=>{console.log(e);let t=i.querySelector(`[name="${e.fieldName}"]`);if(t)switch(e.fieldType){case"text":case"textarea":case"password":case"email":case"tel":t.value=e.fieldValue;break;case"select-one":for(let r=0;r<t.options.length;r++)if(t.options[r].value==e.fieldValue){t.selectedIndex=r;break}break;case"radio":case"checkbox":Array.isArray(e.fieldValue)?e.fieldValue.forEach(e=>{t.value==e&&(t.checked=!0)}):t.value==e.fieldValue&&(t.checked=!0)}}),l.target.classList.remove("recording"),l.target.classList.add("complete"),setTimeout(()=>{l.target.classList.remove("complete")},3e3)}).catch(e=>{console.error("An error occurred",e),l.target.classList.remove("recording")})}(i,t,e)):alert("Please accept the terms and conditions to proceed")}),(a=document.createElement("input")).type="checkbox",a.classList.add("formgpt-form-genie-terms-checkbox");let y=document.createElement("label");y.classList.add("formgpt-form-genie-terms-label"),y.innerHTML='You agree to let me use your voice to fill out the form out which requires sharing with third parties. The complete agreement can be found <a href="https://example.com/terms-of-service" target="_blank">here</a>.',y.insertBefore(a,y.firstChild),p.appendChild(m),p.appendChild(f),p.appendChild(g),p.appendChild($),p.appendChild(y),l.appendChild(p),document.body.appendChild(l)}(),navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{console.log("startedRecording"),(n=new MediaRecorder(e)).addEventListener("start",e=>{console.log("starting..."),r.length=0,l=60,s=setInterval(()=>{l--,document.querySelector(".formgpt-form-genie-timer").textContent=`Recording will stop in ${l} seconds`,0===l&&(d(),clearInterval(s))},1e3)}),n.addEventListener("dataavailable",e=>{console.log("adding..."),r.push(e.data)}),n.addEventListener("stop",()=>{console.log("stopping..."),o=new Blob(r,{type:"audio/webm"})}),n.start()}).catch(e=>{console.log(["ERRORMIC",e]),console.error("Could not get user media",e)}))}function m(e){let t=e.querySelectorAll('input:not([type="hidden"]), select, textarea, button'),r=e.querySelectorAll('input[type="password"]'),o=e.querySelectorAll('input[type="email"]'),n=Array.from(e.querySelectorAll("input")).filter(e=>["search","query","q"].includes(e.name.toLowerCase()));return t.length<=2?(c("2orless"),!1):1===r.length&&t.length<=3?(c("loginform"),!1):1===o.length&&t.length<=2?(c("emailonlyform"),!1):1===n.length&&t.length<=2?(c("searchform"),!1):(c("goodformfound"),!0)}function f(e){if("BODY"===e.nodeName)return e;let t=getComputedStyle(e).position;return"relative"===t||"absolute"===t?e:f(e.parentElement)}function g(e){return e.querySelectorAll("input, select, textarea, button")}function u(){document.querySelectorAll("form").forEach(e=>{if(!m(e)){c("noforms");return}})}!function e(){let t=`
            .formgpt-form-genie-popup-container {
                position: fixed;
                z-index: 1000;
                left: 0;
                top: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0, 0, 0, 0.7);
                display: flex;
                justify-content: center;
                align-items: center;
            }
            .formgpt-form-genie-popup-content {
                width: 80%;
                max-width: 500px;
                background: #fff;
                padding: 20px;
                border-radius: 5px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            }
            @keyframes NOPEformgpt-form-genie-wiggle {
                0% { transform: rotate(0deg); }
                15% { transform: rotate(-7deg); }
                30% { transform: rotate(7deg); }
                45% { transform: rotate(-7deg); }
                60% { transform: rotate(7deg); }
                75% { transform: rotate(-7deg); }
                90% { transform: rotate(7deg); }
                100% { transform: rotate(0deg); }
            }
            .formgpt-form-genie {
                position: absolute;
                animation: formgpt-form-genie-wiggle 0.2s ease-in-out infinite;
                animation-delay: 3s; 
                transition: all 3.2s ease;
            }
            .formgpt-form-genie.recording {
                animation: none;
            }
            .formgpt-form-genie.complete {
                transform: scale(1.2);
            }
        `,r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t)),r.appendChild(o)}(),document.querySelectorAll("form").forEach(e=>{if(!m(e)){c("noforms");return}let t=document.createElement("div");t.classList.add("formgpt-form-genie");let r=document.createElement("button");r.classList.add("formgpt-form-genie-mic"),r.innerHTML="\uD83C\uDFA4",r.addEventListener("click",p),t.appendChild(r);let o=e.querySelector("input, select, textarea"),n=e.getBoundingClientRect(),a=o.getBoundingClientRect(),i=a.left-n.left,l=a.top-n.top;t.style.position="absolute",t.style.left=`${i}px`,t.style.top=`${l-20}px`,e.appendChild(t)}),u(),setInterval(u,5e3)}